(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"/WNq":function(t,e,a){"use strict";a.r(e);var i=a("jbwR"),n={name:"ManageTestimonials",data:function(){return{testimonials:[],testimonialDetails:{},sectionLoading:!1,details:{},fileUploadName:"Upload user's passport"}},components:{PreLoader:a("YiU+").default},created:function(){var t=this;axios.get(i.xb).then((function(e){var a=e.data.testimonials;t.testimonials=a,t.$nextTick((function(){$((function(){$("#testimonialTable").DataTable({responsive:!0,order:[[0,"desc"]],language:{searchPlaceholder:"Search...",sSearch:""}})}))}))}))},mounted:function(){this.$emit("page-loaded")},methods:{attachFile:function(){this.fileUploadName=this.$refs.img.files[0].name,this.details.user_img=this.$refs.img.files[0]},createTestimonial:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){BlockToast.fire({text:"Creating testimonial..."});var a=new FormData;_.forEach(t.details,(function(t,e){a.append(e,t)})),axios.post(i.o,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.status,i=e.data.rsp;console.log(i),void 0!==a&&201==a&&(t.details={},t.testimonials.unshift(i),Toast.fire({title:"Created",text:"Testimonial created",type:"success",position:"center"}))})).catch((function(t){500==t.response.status&&swal.fire({title:"Error",text:"Something went wrong on server. Creation not successful.",type:"error"})}))}else Toast.fire({title:"Invalid data! Try again",position:"center",type:"error"})}))},deleteTestimonial:function(t){var e=this;axios.delete(Object(i.A)(t.id)).then((function(a){if(204==a.status){var i=e.testimonials.indexOf(t);-1!=i&&e.testimonials.splice(i,1),Toast.fire({title:"Deleted!",text:"testimonial was successfully deleted",position:"center"})}else Toast.fire({title:"Failed!",text:"We were unable to delete the testimonial",position:"center",type:"error"})}))}}},s=(a("CKHg"),a("KHd+")),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("page-header",{attrs:{pageTitle:"Manage Testimonials"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"testimonialTable"}},[t._m(1),t._v(" "),a("tbody",t._l(t.testimonials,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"pointer"},[t._v(t._s(e.id))]),t._v(" "),a("td",[a("button",{staticClass:"badge badge-danger",on:{click:function(a){return t.deleteTestimonial(e)}}},[t._v("Delete")])]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.city)+", "+t._s(e.country))]),t._v(" "),a("td",[a("a",{attrs:{href:e.img,target:"_blank"}},[a("img",{attrs:{src:e.img,alt:e.name+"'s image'",height:"100"}})])]),t._v(" "),a("td",{staticClass:"ellipsis"},[t._v(t._s(e.testimonial))])])})),0)]),t._v(" "),a("div",{staticClass:"modal modal-right fade",attrs:{id:"modal-testimonial",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[t.sectionLoading?a("pre-loader",{staticClass:"section-loader"}):t._e(),t._v(" "),a("form",{staticClass:"m-25"},[a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("name")}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"img",attrs:{type:"file",id:"form-img",name:"img",accept:"image/*"},on:{change:t.attachFile}}),t._v(" "),a("label",{attrs:{for:"form-img"}},[a("strong",[t._v(t._s(t.fileUploadName))])]),t._v(" "),a("span",[t._v(t._s(t.errors.first("name")))])])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("name")}},[t._m(3),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.name,expression:"details.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-full-name",name:"name"},domProps:{value:t.details.name},on:{input:function(e){e.target.composing||t.$set(t.details,"name",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("name")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("city")}},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.city,expression:"details.city"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"city"},domProps:{value:t.details.city},on:{input:function(e){e.target.composing||t.$set(t.details,"city",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("city")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("country")}},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.country,expression:"details.country"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"country"},domProps:{value:t.details.country},on:{input:function(e){e.target.composing||t.$set(t.details,"country",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("country")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("testimonial")}},[t._m(6),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.details.testimonial,expression:"details.testimonial"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{name:"testimonial",id:"form-testimonial"},domProps:{value:t.details.testimonial},on:{input:function(e){e.target.composing||t.$set(t.details,"testimonial",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("testimonial")))])]),t._v(" "),a("div",{staticClass:"form-group mt-20"},[a("button",{staticClass:"btn btn-success btn-round btn-block",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createTestimonial}},[t._v("Create")])])])],1),t._v(" "),t._m(7)])])])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("button",{staticClass:"btn btn-bold btn-pure btn-twitter btn-shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-testimonial"}},[this._v("Create Testimonial")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Actions")]),t._v(" "),a("th",[t._v("Full Name")]),t._v(" "),a("th",[t._v("Location")]),t._v(" "),a("th",[t._v("Image")]),t._v(" "),a("th",[t._v("Testimonial")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Enter Testimonial Details")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"form-full-name"}},[e("strong",[this._v("Full Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"form-mail"}},[e("strong",[this._v("City")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"form-mail"}},[e("strong",[this._v("Country")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"form-testimonial"}},[e("strong",[this._v("Testimonial")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}],!1,null,"7e558382",null);e.default=o.exports},"0xPq":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,'.modal-right .modal-dialog[data-v-7e558382] {\n  min-width: 35%;\n}\n.modal-right .modal-dialog .modal-body[data-v-7e558382] {\n  overflow-y: auto;\n}\n.section-loader[data-v-7e558382] {\n  min-height: 90vh;\n  margin-left: 0;\n  position: fixed;\n}\n.form-group[data-v-7e558382] {\n  position: relative;\n}\n.form-group span[data-v-7e558382] {\n  position: absolute;\n  bottom: 7px;\n  right: 20px;\n  color: #d33;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  opacity: 0;\n  transition: ease-in 300ms opacity;\n  pointer-events: none;\n}\n.form-group.has-error .form-control[data-v-7e558382] {\n  border-color: #f90a48;\n  box-shadow: 0 0 10px rgba(249, 10, 72, 0.2);\n}\n.form-group.has-error > span[data-v-7e558382] {\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";\n  opacity: 1;\n}\n.ellipsis[data-v-7e558382] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n[type=file][data-v-7e558382] {\n  height: 0;\n  overflow: hidden;\n  width: 0;\n}\n[type=file]#file[data-v-7e558382] {\n  border: none;\n  border-radius: 0;\n  padding: 0;\n}\n[type=file] + label[data-v-7e558382] {\n  background: #00aced;\n  border: 1px solid #c0c0c0;\n  border-radius: 40px;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: "Poppins", sans-serif;\n  font-size: inherit;\n  font-weight: 600;\n  margin-bottom: 16px;\n  margin-bottom: 1rem;\n  outline: none;\n  padding: 12.8px 20px;\n  padding: 0.8rem 20px;\n  position: relative;\n  transition: all 0.3s;\n  vertical-align: middle;\n}\n[type=file] + label[data-v-7e558382]:hover {\n  background-color: #d3460d;\n}\n[type=file] + label.btn-1[data-v-7e558382] {\n  background-color: #f79159;\n  box-shadow: 0 6px #f57128;\n  transition: none;\n}\n[type=file] + label.btn-1[data-v-7e558382]:hover {\n  box-shadow: 0 4px #f57128;\n  top: 2px;\n}\n[type=file] + label.btn-2[data-v-7e558382] {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  background-color: #fff;\n  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"), linear-gradient(to bottom, #ffffff 0%, #e5e5e5 100%);\n  color: #888;\n  border-radius: 50px;\n  overflow: hidden;\n  width: 100%;\n  text-align: left;\n  padding-left: 20px;\n  font-weight: normal;\n  text-transform: capitalize;\n}\n[type=file] + label.btn-2[data-v-7e558382]:before {\n  color: #fff;\n  font-size: 100%;\n  height: 100%;\n  right: 130%;\n  line-height: 3.3;\n  position: absolute;\n  top: 0px;\n  transition: all 0.3s;\n}\n[type=file] + label.btn-2[data-v-7e558382]:hover {\n  background-color: #f2f2f2;\n  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"), linear-gradient(to bottom, #e5e5e5 0%, #ffffff 100%);\n}\n[type=file] + label.btn-2[data-v-7e558382]:hover:before {\n  right: 75%;\n}',""])},B9Mt:function(t,e,a){var i=a("0xPq");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,n);i.locals&&(t.exports=i.locals)},CKHg:function(t,e,a){"use strict";var i=a("B9Mt");a.n(i).a}}]);